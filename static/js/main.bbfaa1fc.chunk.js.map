{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","Components/Button/Button.jsx","Utils/API.js","Components/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onClick","className","css","SearchForm","onSubmit","e","preventDefault","target","elements","request","value","trim","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","data","onSelect","map","oneImageData","webformatURL","src","largeImageURL","alt","tags","ImageGalleryItemImage","id","ImageGallery","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","props","modalToggle","handleBackdropClick","event","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","link","Component","Spinner","color","height","width","Button","axios","defaults","baseURL","fetchImages","page","a","get","response","App","state","allImages","selectedImage","reqStatus","handleSelectImage","image","setState","handleSubmit","loadMore","prevState","_","result","hits","scrollTo","top","documentElement","scrollHeight","behavior","shouldLoadMore","Boolean","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bbfaa1fc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__328H8\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__4kWAD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3dMY9\",\"Modal\":\"Modal_Modal__1qBQg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1aC43\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__121KY\"};","import css from \"./Searchbar.module.css\"\n    \nexport const Searchbar = ({ onClick }) => {\n    return (\n        <header className={css.Searchbar}>\n            <form className={css.SearchForm} onSubmit={e => {\n                e.preventDefault()\n                onClick(e.target.elements.request.value.trim())\n\n            }}>\n            <button type=\"submit\" className={css.SearchFormButton}>\n            <span className={css.SearchFormButtonLabel}>Search</span>\n            </button>\n\n            <input\n            className={css.SearchFormInput}\n            name=\"request\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            />\n        </form>\n        </header>\n    )\n}\n\n","import css from \"./ImageGalleryItem.module.css\"\n\nexport const ImageGalleryItem = ({ data, onSelect }) => {\n    return (\n        <>\n            {data.map(oneImageData => (\n                <li className={css.ImageGalleryItem} key={oneImageData.id}>\n                    <img onClick={() => onSelect(oneImageData.webformatURL)}\n                        src={oneImageData.largeImageURL}\n                        alt={oneImageData.tags}\n                        className={css.ImageGalleryItemImage} />\n                </li>\n            ))} \n        </>\n\n    )\n}","import css from \"./ImageGallery.module.css\"\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\n    \nexport const ImageGallery = ({ data, onSelect }) => {\n    return (\n        <ul className={css.ImageGallery}>\n            <ImageGalleryItem data={data} onSelect={onSelect}/>\n        </ul>\n    )\n}\n\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport css from \"./Modal.module.css\"\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      console.log('Нажали ESC, нужно закрыть модалку');\n\n      this.props.modalToggle(null);\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.modalToggle(null);\n    }\n  };\n\n  render() {\n    return createPortal(\n        <div className={css.Overlay} onClick={this.handleBackdropClick}>\n            <div className={css.Modal}>\n                <img src={this.props.link} alt=\"\"></img>\n            </div>\n        </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport { Modal }","import { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nclass Spinner extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#999999\"\n        height={100}\n        width={100}\n      />\n    );\n  }\n}\n\nexport { Spinner }","import css from \"./Button.module.css\"\n\nexport const Button = ({ onClick }) => {\n    return (\n        <button type=\"button\" className={css.Button} onClick={onClick}>Load more</button>\n    )\n}","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\nconst KEY = \"16347216-fb50075837ded8f23f3479d31\";\n\nexport const fetchImages = async (request, page) => {\n  const response = await axios.get(`?key=${KEY}&q=${request}&page=${page}`);\n  return response.data;\n};\n","import { Component } from \"react\";\nimport \"./App.css\";\nimport { Searchbar } from \"./Searchbar/Searchbar\";\nimport { ImageGallery } from \"./ImageGallery/ImageGallery\";\nimport { Modal } from \"./Modal/Modal\";\nimport { Spinner } from \"./Loader/Loader\";\nimport { Button } from \"./Button/Button\";\nimport { fetchImages } from \"../Utils/API\";\n\nclass App extends Component {\n  state = {\n    allImages: [],\n    selectedImage: null,\n    reqStatus: null,\n    request: \"\",\n    page: 1,\n  };\n\n  handleSelectImage = (image) => {\n    this.setState({ selectedImage: image });\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const { request, page } = this.state;\n\n    if (prevState.request !== request || prevState.page !== page) {\n      this.setState({ reqStatus: \"loading\" });\n      const result = await fetchImages(request, page);\n      this.setState((prevState) => ({\n        allImages: [...prevState.allImages, ...result.hits],\n      }));\n      this.setState({ reqStatus: null });\n    }\n\n    if (prevState.page !== page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  handleSubmit = (request) => {\n    this.setState({ allImages: [], request: request });\n  };\n\n  loadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { allImages, selectedImage, reqStatus } = this.state;\n    const shouldLoadMore = Boolean(allImages.length);\n\n    return (\n      <div className=\"App\">\n        <Searchbar onClick={this.handleSubmit} />\n        <ImageGallery data={allImages} onSelect={this.handleSelectImage} />\n        {selectedImage && (\n          <Modal link={selectedImage} modalToggle={this.handleSelectImage} />\n        )}\n        {shouldLoadMore && !reqStatus && <Button onClick={this.loadMore} />}\n        {reqStatus && <Spinner />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3oXeV\",\"SearchForm\":\"Searchbar_SearchForm__2Jsjh\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2zaq2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1atgW\",\"SearchFormInput\":\"Searchbar_SearchFormInput__kyOvO\"};"],"sourceRoot":""}